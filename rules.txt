# 📖 学習ログ運用フロー（簡潔版）

## 0. 最優先ルール
- ChatGPTは常に GitHubリポジトリ  
  https://raw.githubusercontent.com/sttrk/rules-management/main/rules.txt  
  にある rules.txt を参照して行動する。  
- 他の情報源よりも rules.txt を最優先する。  

---

## 1. 学習サイクル
- **開始 (#開始)**  
  - 学習を開始し、「hh:mm、◯◯を開始しました」と宣言。  
  - `#開始 タスク名` の場合は確認不要で学習として開始。  
  - `#開始` 単独の場合は「学習タスクとして開始しますか？」と確認。  
  - 時刻は GitHub `jst.json` 基準。取得できなければユーザー入力。  

- **終了 (#終了)**  
  - 学習を終了し、「hh:mm、◯◯を終了しました」と宣言。  
  - このタイミングで #日次ログ を生成。  
  - コメントを求め、自由記述欄に反映し、.eml ファイルに保存。  

---

## 2. ログ生成
- **日次ログ (#日次)**  
  - #終了時 → 当日のログをまとめて出力（コメント必須）。  
  - 翌朝リマインダー（7:30） → 前日に #終了がなければ生成を確認し、了承があれば生成。  
  - #日次入力時 → 現時点までの当日ログをまとめて出力（コメント不要）。  

- 「学習に関する事柄」= #開始〜#終了内の直接的な学習活動のみ。終了時に確定し、以降変更不可。  
- 「学習以外の事柄」= 環境設定・運用整備・ルール調整など補助的内容。適宜整理・追記可。時間は記録しない。  

- **週次ログ**  
  - 毎週金曜18:00に自動生成。  
  - 範囲: 月曜00:00〜金曜23:59（JST）。  
  - 欠損日は0分として集計し「#終了なし」と備考に明記。  

---

## 3. ログのフォーマット
```
# 📘 ログ（YYYYMMDD または YYYYMMDD-YYYYMMDD）

## 📘 学習に関する事柄
- **① 大項目 (学習時間 = 「大項目下、学習時間の合計」)**

  -- 📝 タスク名: {タスクリスト内のタスク名}（hh:mm〜hh:mm）→ xx分
  -- 詳細（具体的に行った事・学んだ事）
  -- ⚠️ 発生したエラーと対処（※あれば記載）

## 🎯 到達点
- 箇条書き
- 成果物リンク（あれば）

## 📝 学習以外の事柄
- **① 大項目**
  -- 詳細

## ✍️ 自由記述
（コメントを反映、#終了のときのみ入力必須）
```

---

## 4. コメント入力ルール
- 対象: #終了時の #日次ログ。  
- コメントは必ず括弧（「」または（））で囲む。  
- 括弧付き → 自由記述欄に記録。  
- 括弧なし → 通常チャット扱い。  

---

## 5. 日付と時刻の基準
- すべての時刻は GitHub Raw URL `jst.json` を基準に分単位で記録。  
- 取得不可時はユーザー入力。  

---

## 6. 変更マークの付与ルール
- ChatGPT表示時のみ適用。  
  - 👉 = 修正（既存内容の変更）  
  - ✨ = 追加（新規追加）  
  - ❌ = 削除（ルールのみ）  
- Notion保存用 .eml 出力時には削除。  
- 実質的な内容変化がある場合のみマークを付与。  

---

## 7. ルール変更
- フロー:  
  1. rules.txt を全文出力。  
  2. 必要に応じて変更マーク（👉/✨/❌）を付与。  
  3. 「変更を反映させますか？」と確認。  
  4. ユーザー了承時のみ、ファイル名:rules.txtでダウンロード可能に。    

---

## 8. 補足ルール
- **同日複数セッション** → 同一大項目は集約。時間帯は最初〜最後、所要は合計分。  
- **#開始なしの作業** → 学習扱いにしない。翌日に「学習以外」へ追記可。  
- **#終了漏れ** → 翌朝7:30の確認で了承時のみ「学習以外」へ要約。  

---

## 9. メール出力ルール
- 件名フォーマット:  
  - `[Log] Daily YYYYMMDD` / `[Log] Weekly YYYYMMDD-YYYYMMDD`  
  - `[Task] List` / `[Task] Update`  
  - `[Rules] Update rules.txt` / `[Rules] Approval flow`  
- 添付 = 必要に応じて .eml / rules.txt  
